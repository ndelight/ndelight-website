<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login - NDelight</title>
    <link rel="icon" type="image/png" href="/logo.png">
    <link rel="stylesheet" href="style.css" />
    <style>
        /* Specific styles for Login to ensure it looks premium */
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #121212;
            /* Fallback */
            background: radial-gradient(circle at top left, #2a2a2a, #000);
        }

        .login-container {
            background: #1e1e1e;
            /* Solid dark color */
            border: 1px solid #333;
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 3rem;
            border-radius: 16px;
            width: 100%;
            max-width: 400px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
            text-align: center;
        }

        .login-title {
            font-family: 'Outfit', sans-serif;
            font-size: 2rem;
            color: #fff;
            margin-bottom: 0.5rem;
        }

        .login-subtitle {
            color: #aaa;
            margin-bottom: 2rem;
        }

        .input-group {
            margin-bottom: 1.5rem;
            text-align: left;
        }

        .input-group label {
            display: block;
            color: #ccc;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }

        .input-group input {
            width: 100%;
            padding: 12px;
            background: #2a2a2a;
            border: 1px solid #444;
            border-radius: 8px;
            color: white;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .input-group input:focus {
            border-color: #ffd700;
            outline: none;
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.2);
        }

        .btn-login {
            width: 100%;
            padding: 12px;
            background: linear-gradient(135deg, #ffd700, #b8860b);
            border: none;
            border-radius: 8px;
            color: #000;
            font-weight: bold;
            cursor: pointer;
            font-size: 1rem;
            transition: transform 0.2s;
        }

        .btn-login:hover {
            transform: scale(1.02);
        }

        .message {
            margin-top: 1rem;
            font-size: 0.9rem;
            min-height: 20px;
        }

        .error {
            color: #ff6b6b;
        }

        .success {
            color: #51cf66;
        }
    </style>
</head>

<body>

    <div class="login-container">
        <h1 class="login-title">NDelight</h1>
        <p class="login-subtitle">Admin & Influencer Access</p>

        <form id="authForm">
            <!-- Full Name (Signup Only) -->
            <div class="input-group" id="nameGroup" style="display: none;">
                <label for="fullName">Full Name</label>
                <input type="text" id="fullName" placeholder="John Doe">
            </div>

            <!-- Influencer Toggle (Signup Only) -->
            <div class="input-group" id="influencerGroup"
                style="display: none; align-items:center; gap:10px; margin-bottom:1rem;">
                <input type="checkbox" id="influencerCheck" style="width:20px; height:20px; accent-color:#ffd700;">
                <label for="influencerCheck" style="margin:0; color:#fff;">Apply as Influencer?</label>
            </div>

            <div class="input-group">
                <label for="email">Email Address</label>
                <input type="email" id="email" placeholder="you@example.com" required>
            </div>

            <div class="input-group">
                <label>Password</label>
                <input type="password" id="password" required />
                <a href="#" id="forgotPasswordLink"
                    style="color:#aaa; font-size:0.8rem; float:right; text-decoration:none; margin-top:5px;">Forgot
                    Password?</a>
            </div>

            <button type="submit" class="btn-login" id="submitBtn">Sign In</button>
        </form>

        <div class="switch-mode">
            <p id="switchText">Don't have an account? <span id="switchBtn">Sign Up</span></p>
        </div>
    </div>
    </div>


    </div>

    <!-- Forgot Password Modal -->
    <div id="forgotModal"
        style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); z-index:1000; align-items:center; justify-content:center;">
        <div
            style="background:#1e1e1e; padding:2rem; border-radius:12px; border:1px solid #333; width:100%; max-width:400px; text-align:center; position:relative;">
            <h3 style="color:#ffd700; margin-bottom:1rem;">Reset Password</h3>
            <p style="color:#ccc; margin-bottom:1.5rem;">Enter your email to receive a reset link.</p>

            <input type="email" id="forgotEmail" placeholder="your@email.com"
                style="width:100%; padding:12px; background:#2a2a2a; border:1px solid #444; color:#fff; border-radius:6px; margin-bottom:1rem;">

            <button id="sendResetBtn" class="btn btn-primary"
                style="width:100%; padding:12px; background:#ffd700; color:#000; border:none; border-radius:6px; font-weight:bold; cursor:pointer;">Send
                Link</button>
            <div id="forgotMsg" style="margin-top:1rem; min-height:1.2em;"></div>

            <button id="closeForgotBtn"
                style="position:absolute; top:15px; right:15px; background:none; border:none; color:#aaa; font-size:1.5rem; cursor:pointer;">&times;</button>
        </div>
    </div>

    <!-- Pre-Signup OTP Modal -->
    <div id="signupOtpModal"
        style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.9); z-index:1100; align-items:center; justify-content:center;">
        <div
            style="background:#1e1e1e; padding:2rem; border-radius:12px; border:1px solid #333; width:100%; max-width:400px; text-align:center; position:relative;">
            <h3 style="color:#ffd700; margin-bottom:1rem;">Verify to Sign Up</h3>
            <p style="color:#ccc; margin-bottom:1.5rem;">We sent a code to <br><b id="signupEmailDisplay"
                    style="color:#fff"></b></p>

            <input type="text" id="signupOtpInput" placeholder="123456" maxlength="6"
                style="width:100%; padding:12px; background:#2a2a2a; border:1px solid #444; color:#fff; border-radius:6px; font-size:1.2rem; text-align:center; letter-spacing:5px; margin-bottom:1rem;">

            <button id="verifySignupOtpBtn" class="btn btn-primary"
                style="width:100%; padding:12px; background:#ffd700; color:#000; border:none; border-radius:6px; font-weight:bold; cursor:pointer; margin-bottom:1rem;">Verify
                & Create Account</button>

            <p id="signupOtpError" style="color:#ff6b6b; font-size:0.9rem; min-height:1.2em;"></p>

            <button id="closeSignupOtpBtn"
                style="position:absolute; top:15px; right:15px; background:none; border:none; color:#aaa; font-size:1.5rem; cursor:pointer;">&times;</button>
        </div>
    </div>
    <p style="margin-top: 1.5rem; color: #ccc; font-size: 0.9rem;">
        <span id="toggleText">New here?</span>
        <a href="#" id="toggleBtn" style="color: #ffd700; font-weight: bold; margin-left: 5px;">Create Account</a>
    </p>

    <div id="message" class="message"></div>
    </div>

    <script type="module" src="login.js"></script>
</body>

</html>